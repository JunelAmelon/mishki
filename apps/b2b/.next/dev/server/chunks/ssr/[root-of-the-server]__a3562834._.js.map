{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Augustin/Documents/Mishki/apps/b2b/src/components/Sidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport {\r\n  Home,\r\n  Package,\r\n  ShoppingCart,\r\n  Zap,\r\n  FileText,\r\n  Download,\r\n  RotateCcw,\r\n  Receipt,\r\n  FileCheck,\r\n  X,\r\n} from 'lucide-react';\r\n\r\nconst navItems = [\r\n  { to: '/', icon: Home, label: 'Accueil Pro' },\r\n  { to: '/catalogue', icon: Package, label: 'Catalogue' },\r\n  { to: '/panier', icon: ShoppingCart, label: 'Mon Panier' },\r\n  { to: '/commande-rapide', icon: Zap, label: 'Commande Rapide' },\r\n  { to: '/protocoles', icon: FileText, label: 'Protocoles' },\r\n  { to: '/telechargements', icon: Download, label: 'Téléchargements' },\r\n  { to: '/reassort', icon: RotateCcw, label: 'Réassort Auto' },\r\n  { to: '/factures', icon: Receipt, label: 'Factures' },\r\n  { to: '/devis', icon: FileCheck, label: 'Demande de Devis' },\r\n];\r\n\r\ninterface SidebarProps {\r\n  isOpen?: boolean;\r\n  onClose?: () => void;\r\n}\r\n\r\nexport default function Sidebar({ isOpen = true, onClose }: SidebarProps) {\r\n  return (\r\n    <>\r\n      {/* Mobile backdrop */}\r\n      {isOpen && (\r\n        <div\r\n          className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\"\r\n          onClick={onClose}\r\n        ></div>\r\n      )}\r\n\r\n      {/* Sidebar */}\r\n      <aside\r\n        className={`\r\n          fixed lg:static inset-y-0 left-0 z-50\r\n          w-64 bg-white border-r border-gray-200 flex flex-col\r\n          transform transition-transform duration-300 ease-in-out\r\n          ${isOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\r\n        `}\r\n      >\r\n        {/* Header with Logo */}\r\n        <div className=\"p-4 md:px-6 py-3 border-b border-gray-200 flex items-center justify-between\" style={{ backgroundColor: '#235730' }}>\r\n          <div className=\"flex-1 flex items-center justify-center\">\r\n            <Image \r\n              src=\"/images/logo-mishki.png\" \r\n              alt=\"Mishki B2B\" \r\n              width={130} \r\n              height={40}\r\n              className=\"object-contain\"\r\n            />\r\n          </div>\r\n          {/* Close button for mobile */}\r\n          <button\r\n            onClick={onClose}\r\n            className=\"lg:hidden p-2 text-white/80 hover:text-white rounded-lg hover:bg-white/10 transition-colors absolute right-4\"\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Navigation */}\r\n        <nav className=\"flex-1 p-3 md:p-4 space-y-1 overflow-y-auto\">\r\n          {navItems.map((item) => (\r\n            <Link\r\n              key={item.to}\r\n              href={item.to}\r\n              onClick={onClose}\r\n              className=\"flex items-center gap-3 px-3 md:px-4 py-2.5 md:py-3 rounded-lg transition-colors text-gray-600 hover:bg-gray-50\"\r\n            >\r\n              <item.icon className=\"w-5 h-5 flex-shrink-0\" />\r\n              <span className=\"text-sm md:text-base truncate\">{item.label}</span>\r\n            </Link>\r\n          ))}\r\n        </nav>\r\n\r\n        {/* Support Section */}\r\n        <div className=\"p-3 md:p-4 border-t border-gray-200\">\r\n          <div className=\"rounded-lg p-3 md:p-4\" style={{ backgroundColor: '#F7F0E0' }}>\r\n            <p className=\"text-xs text-gray-600 mb-2\">Besoin d'aide ?</p>\r\n            <button\r\n              className=\"w-full px-3 py-2 bg-white rounded-md text-xs md:text-sm hover:bg-gray-50 transition-colors\"\r\n              style={{ color: '#235730' }}\r\n            >\r\n              Contacter le support\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;AAiBA,MAAM,WAAW;IACf;QAAE,IAAI;QAAK,MAAM,2MAAI;QAAE,OAAO;IAAc;IAC5C;QAAE,IAAI;QAAc,MAAM,mNAAO;QAAE,OAAO;IAAY;IACtD;QAAE,IAAI;QAAW,MAAM,sOAAY;QAAE,OAAO;IAAa;IACzD;QAAE,IAAI;QAAoB,MAAM,uMAAG;QAAE,OAAO;IAAkB;IAC9D;QAAE,IAAI;QAAe,MAAM,0NAAQ;QAAE,OAAO;IAAa;IACzD;QAAE,IAAI;QAAoB,MAAM,sNAAQ;QAAE,OAAO;IAAkB;IACnE;QAAE,IAAI;QAAa,MAAM,6NAAS;QAAE,OAAO;IAAgB;IAC3D;QAAE,IAAI;QAAa,MAAM,mNAAO;QAAE,OAAO;IAAW;IACpD;QAAE,IAAI;QAAU,MAAM,6NAAS;QAAE,OAAO;IAAmB;CAC5D;AAOc,SAAS,QAAQ,EAAE,SAAS,IAAI,EAAE,OAAO,EAAgB;IACtE,qBACE;;YAEG,wBACC,8OAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAKb,8OAAC;gBACC,WAAW,CAAC;;;;UAIV,EAAE,SAAS,kBAAkB,qCAAqC;QACpE,CAAC;;kCAGD,8OAAC;wBAAI,WAAU;wBAA8E,OAAO;4BAAE,iBAAiB;wBAAU;;0CAC/H,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,wIAAK;oCACJ,KAAI;oCACJ,KAAI;oCACJ,OAAO;oCACP,QAAQ;oCACR,WAAU;;;;;;;;;;;0CAId,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,8OAAC,iMAAC;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAKjB,8OAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC,qBACb,8OAAC,uKAAI;gCAEH,MAAM,KAAK,EAAE;gCACb,SAAS;gCACT,WAAU;;kDAEV,8OAAC,KAAK,IAAI;wCAAC,WAAU;;;;;;kDACrB,8OAAC;wCAAK,WAAU;kDAAiC,KAAK,KAAK;;;;;;;+BANtD,KAAK,EAAE;;;;;;;;;;kCAYlB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;4BAAwB,OAAO;gCAAE,iBAAiB;4BAAU;;8CACzE,8OAAC;oCAAE,WAAU;8CAA6B;;;;;;8CAC1C,8OAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,OAAO;oCAAU;8CAC3B;;;;;;;;;;;;;;;;;;;;;;;;;AAQb"}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Augustin/Documents/Mishki/apps/b2b/src/components/Header.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useCart } from '../context/CartContext';\r\nimport { Bell, ShoppingCart, User, LogOut, ChevronDown, Menu, X } from 'lucide-react';\r\n\r\ninterface HeaderProps {\r\n  onToggleSidebar?: () => void;\r\n}\r\n\r\nexport default function Header({ onToggleSidebar }: HeaderProps) {\r\n  const { user, logout } = useAuth();\r\n  const { items } = useCart();\r\n  const router = useRouter();\r\n  const [showUserMenu, setShowUserMenu] = useState(false);\r\n\r\n  const cartItemsCount = items.reduce((sum, item) => sum + item.quantite, 0);\r\n\r\n  return (\r\n    <header className=\"border-b border-gray-200 px-4 md:px-6 py-3 md:py-4\" style={{ backgroundColor: '#235730' }}>\r\n      <div className=\"flex items-center justify-between\">\r\n        {/* Mobile Menu Button + Welcome */}\r\n        <div className=\"flex items-center gap-3 flex-1\">\r\n          {/* Mobile Menu Toggle */}\r\n          <button\r\n            onClick={onToggleSidebar}\r\n            className=\"lg:hidden p-2 text-white hover:bg-white/10 rounded-lg transition-colors\"\r\n          >\r\n            <Menu className=\"w-5 h-5\" />\r\n          </button>\r\n\r\n          {/* Welcome Text */}\r\n          <div className=\"flex-1 min-w-0\">\r\n            <h2 className=\"text-white truncate text-sm md:text-base\">\r\n              Bienvenue, {user?.prenom}\r\n            </h2>\r\n            <p className=\"text-xs text-white/80 truncate hidden sm:block\">\r\n              {user?.societe}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2 md:gap-4\">\r\n          {/* Notifications */}\r\n          <button className=\"relative p-2 text-white/80 hover:text-white rounded-lg hover:bg-white/10 transition-colors\">\r\n            <Bell className=\"w-5 h-5\" />\r\n            <span className=\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"></span>\r\n          </button>\r\n\r\n          {/* Cart */}\r\n          <button\r\n            onClick={() => router.push('/panier')}\r\n            className=\"relative p-2 text-white/80 hover:text-white rounded-lg hover:bg-white/10 transition-colors\"\r\n          >\r\n            <ShoppingCart className=\"w-5 h-5\" />\r\n            {cartItemsCount > 0 && (\r\n              <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center\">\r\n                {cartItemsCount}\r\n              </span>\r\n            )}\r\n          </button>\r\n\r\n          {/* User Menu */}\r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowUserMenu(!showUserMenu)}\r\n              className=\"flex items-center gap-2 md:gap-3 px-2 md:px-3 py-2 rounded-lg hover:bg-white/10 transition-colors\"\r\n            >\r\n              <div className=\"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center\">\r\n                <User className=\"w-4 h-4 text-white\" />\r\n              </div>\r\n              <div className=\"text-left hidden md:block\">\r\n                <p className=\"text-sm text-white\">\r\n                  {user?.prenom} {user?.nom}\r\n                </p>\r\n                <p className=\"text-xs text-white/80\">Remise {user?.remise}%</p>\r\n              </div>\r\n              <ChevronDown className=\"w-4 h-4 text-white/80 hidden sm:block\" />\r\n            </button>\r\n\r\n            {showUserMenu && (\r\n              <>\r\n                {/* Backdrop for mobile */}\r\n                <div\r\n                  className=\"fixed inset-0 z-40 lg:hidden\"\r\n                  onClick={() => setShowUserMenu(false)}\r\n                ></div>\r\n                \r\n                <div className=\"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50\">\r\n                  <div className=\"px-4 py-3 border-b border-gray-100\">\r\n                    <p className=\"text-sm text-gray-900 truncate\">{user?.email}</p>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">SIRET: {user?.siret}</p>\r\n                  </div>\r\n                  <button\r\n                    onClick={() => {\r\n                      logout();\r\n                      setShowUserMenu(false);\r\n                    }}\r\n                    className=\"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors\"\r\n                  >\r\n                    <LogOut className=\"w-4 h-4\" />\r\n                    Déconnexion\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;;;;;;;AAYe,SAAS,OAAO,EAAE,eAAe,EAAe;IAC7D,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,wJAAO;IAChC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,wJAAO;IACzB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,MAAM,iBAAiB,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;IAExE,qBACE,8OAAC;QAAO,WAAU;QAAqD,OAAO;YAAE,iBAAiB;QAAU;kBACzG,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,8OAAC,0MAAI;gCAAC,WAAU;;;;;;;;;;;sCAIlB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;;wCAA2C;wCAC3C,MAAM;;;;;;;8CAEpB,8OAAC;oCAAE,WAAU;8CACV,MAAM;;;;;;;;;;;;;;;;;;8BAKb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAO,WAAU;;8CAChB,8OAAC,0MAAI;oCAAC,WAAU;;;;;;8CAChB,8OAAC;oCAAK,WAAU;;;;;;;;;;;;sCAIlB,8OAAC;4BACC,SAAS,IAAM,OAAO,IAAI,CAAC;4BAC3B,WAAU;;8CAEV,8OAAC,sOAAY;oCAAC,WAAU;;;;;;gCACvB,iBAAiB,mBAChB,8OAAC;oCAAK,WAAU;8CACb;;;;;;;;;;;;sCAMP,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS,IAAM,gBAAgB,CAAC;oCAChC,WAAU;;sDAEV,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC,0MAAI;gDAAC,WAAU;;;;;;;;;;;sDAElB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;;wDACV,MAAM;wDAAO;wDAAE,MAAM;;;;;;;8DAExB,8OAAC;oDAAE,WAAU;;wDAAwB;wDAAQ,MAAM;wDAAO;;;;;;;;;;;;;sDAE5D,8OAAC,mOAAW;4CAAC,WAAU;;;;;;;;;;;;gCAGxB,8BACC;;sDAEE,8OAAC;4CACC,WAAU;4CACV,SAAS,IAAM,gBAAgB;;;;;;sDAGjC,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAE,WAAU;sEAAkC,MAAM;;;;;;sEACrD,8OAAC;4DAAE,WAAU;;gEAA6B;gEAAQ,MAAM;;;;;;;;;;;;;8DAE1D,8OAAC;oDACC,SAAS;wDACP;wDACA,gBAAgB;oDAClB;oDACA,WAAU;;sEAEV,8OAAC,oNAAM;4DAAC,WAAU;;;;;;wDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWlD"}},
    {"offset": {"line": 543, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Augustin/Documents/Mishki/apps/b2b/src/components/Layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, ReactNode } from 'react';\r\nimport Sidebar from './Sidebar';\r\nimport Header from './Header';\r\n\r\nexport default function Layout({ children }: { children: ReactNode }) {\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n\r\n  const toggleSidebar = () => {\r\n    setIsSidebarOpen(!isSidebarOpen);\r\n  };\r\n\r\n  const closeSidebar = () => {\r\n    setIsSidebarOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-screen\" style={{ backgroundColor: '#F7F0E0' }}>\r\n      <Sidebar isOpen={isSidebarOpen} onClose={closeSidebar} />\r\n      <div className=\"flex-1 flex flex-col overflow-hidden w-full lg:w-auto\">\r\n        <Header onToggleSidebar={toggleSidebar} />\r\n        <main className=\"flex-1 overflow-y-auto p-3 sm:p-4 md:p-6\">\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,OAAO,EAAE,QAAQ,EAA2B;IAClE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,MAAM,gBAAgB;QACpB,iBAAiB,CAAC;IACpB;IAEA,MAAM,eAAe;QACnB,iBAAiB;IACnB;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAgB,OAAO;YAAE,iBAAiB;QAAU;;0BACjE,8OAAC,uJAAO;gBAAC,QAAQ;gBAAe,SAAS;;;;;;0BACzC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,sJAAM;wBAAC,iBAAiB;;;;;;kCACzB,8OAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Augustin/Documents/Mishki/apps/b2b/src/app/%28protected%29/layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect } from 'react';\r\nimport Layout from '@/components/Layout';\r\n\r\nexport default function ProtectedLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const { user, isLoading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    console.log('ProtectedLayout: isLoading=', isLoading, 'user=', user);\r\n    \r\n    if (!isLoading) {\r\n      if (!user) {\r\n        console.log('ProtectedLayout: Pas d\\'utilisateur, redirection vers /login');\r\n        router.replace('/login');\r\n      } else if (!user.validated) {\r\n        console.log('ProtectedLayout: Utilisateur non validé, redirection vers /validation-attente');\r\n        router.replace('/validation-attente');\r\n      }\r\n    }\r\n  }, [user, isLoading, router]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-lg\">Chargement...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user || !user.validated) {\r\n    return null;\r\n  }\r\n\r\n  return <Layout>{children}</Layout>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;IACC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,wJAAO;IACnC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,QAAQ,GAAG,CAAC,+BAA+B,WAAW,SAAS;QAE/D,IAAI,CAAC,WAAW;YACd,IAAI,CAAC,MAAM;gBACT,QAAQ,GAAG,CAAC;gBACZ,OAAO,OAAO,CAAC;YACjB,OAAO,IAAI,CAAC,KAAK,SAAS,EAAE;gBAC1B,QAAQ,GAAG,CAAC;gBACZ,OAAO,OAAO,CAAC;YACjB;QACF;IACF,GAAG;QAAC;QAAM;QAAW;KAAO;IAE5B,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAU;;;;;;;;;;;IAG/B;IAEA,IAAI,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE;QAC5B,OAAO;IACT;IAEA,qBAAO,8OAAC,sJAAM;kBAAE;;;;;;AAClB"}}]
}